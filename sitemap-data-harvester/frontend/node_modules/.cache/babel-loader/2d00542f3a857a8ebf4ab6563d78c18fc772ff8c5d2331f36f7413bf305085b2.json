{"ast":null,"code":"var _jsxFileName = \"/Users/ozan/Desktop/Desktop/code/techfi/homestar-cold-call/sitemap-data-harvester/frontend/src/SiteMapExtractor.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SitemapExtractor() {\n  _s();\n  const [sitemapUrl, setSitemapUrl] = useState('');\n  const [isValidUrl, setIsValidUrl] = useState(false);\n  const [isExtracting, setIsExtracting] = useState(false);\n  const [status, setStatus] = useState('');\n  const validateSitemap = async () => {\n    try {\n      const response = await axios.post('http://localhost:5001/api/validate-sitemap', {\n        url: sitemapUrl\n      });\n      setIsValidUrl(response.data.isValid);\n      setStatus(response.data.isValid ? 'Valid sitemap URL' : 'Invalid sitemap URL');\n    } catch (error) {\n      setStatus('Error validating sitemap');\n    }\n  };\n  const extractContent = async () => {\n    setIsExtracting(true);\n    setStatus('Extracting content...');\n    try {\n      const response = await axios.post('http://localhost:5001/api/extract-content', {\n        url: sitemapUrl\n      });\n      setStatus(`Extraction complete. ${response.data.totalPages} pages processed.`);\n    } catch (error) {\n      setStatus('Error extracting content');\n    }\n    setIsExtracting(false);\n  };\n  const downloadContent = async () => {\n    try {\n      const response = await axios.post('http://localhost:5001/api/download-content', {\n        url: sitemapUrl\n      }, {\n        responseType: 'blob'\n      });\n\n      // Extract filename from Content-Disposition header\n      const contentDisposition = response.headers['content-disposition'];\n      const filenameRegex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n      const matches = filenameRegex.exec(contentDisposition);\n      const filename = matches && matches[1] ? matches[1].replace(/['\"]/g, '') : 'combined_content.txt';\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', filename);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      if (error.response) {\n        // r responded with a status other than 2xx\n        setStatus(`Error: ${error.response.data.error}`);\n        console.error('Download error:', error.response.data);\n      } else if (error.request) {\n        // Request was made but no response received\n        setStatus('No response from server');\n        console.error('Download error:', error.request);\n      } else {\n        // Something else happened\n        setStatus('Error downloading content');\n        console.error('Download error:', error.message);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Sitemap Content Extractor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: sitemapUrl,\n      onChange: e => setSitemapUrl(e.target.value),\n      placeholder: \"Enter sitemap URL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: validateSitemap,\n      children: \"Validate URL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: extractContent,\n      disabled: !isValidUrl || isExtracting,\n      children: \"Start Extraction\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: downloadContent,\n      disabled: !isValidUrl || isExtracting,\n      children: \"Download All Content\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"status\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(SitemapExtractor, \"M6R9OxPDsx+CBqpSdza4Ay3O+so=\");\n_c = SitemapExtractor;\nexport default SitemapExtractor;\nvar _c;\n$RefreshReg$(_c, \"SitemapExtractor\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","SitemapExtractor","_s","sitemapUrl","setSitemapUrl","isValidUrl","setIsValidUrl","isExtracting","setIsExtracting","status","setStatus","validateSitemap","response","post","url","data","isValid","error","extractContent","totalPages","downloadContent","responseType","contentDisposition","headers","filenameRegex","matches","exec","filename","replace","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove","revokeObjectURL","console","request","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","disabled","id","_c","$RefreshReg$"],"sources":["/Users/ozan/Desktop/Desktop/code/techfi/homestar-cold-call/sitemap-data-harvester/frontend/src/SiteMapExtractor.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction SitemapExtractor() {\n  const [sitemapUrl, setSitemapUrl] = useState('');\n  const [isValidUrl, setIsValidUrl] = useState(false);\n  const [isExtracting, setIsExtracting] = useState(false);\n  const [status, setStatus] = useState('');\n\n  const validateSitemap = async () => {\n    try {\n      const response = await axios.post('http://localhost:5001/api/validate-sitemap', { url: sitemapUrl });\n      setIsValidUrl(response.data.isValid);\n      setStatus(response.data.isValid ? 'Valid sitemap URL' : 'Invalid sitemap URL');\n    } catch (error) {\n      setStatus('Error validating sitemap');\n    }\n  };\n\n  const extractContent = async () => {\n    setIsExtracting(true);\n    setStatus('Extracting content...');\n    try {\n      const response = await axios.post('http://localhost:5001/api/extract-content', { url: sitemapUrl });\n      setStatus(`Extraction complete. ${response.data.totalPages} pages processed.`);\n    } catch (error) {\n      setStatus('Error extracting content');\n    }\n    setIsExtracting(false);\n  };\n\n  const downloadContent = async () => {\n    try {\n      const response = await axios.post('http://localhost:5001/api/download-content', \n        { url: sitemapUrl },\n        { responseType: 'blob' }\n      );\n      \n      // Extract filename from Content-Disposition header\n      const contentDisposition = response.headers['content-disposition'];\n      const filenameRegex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n      const matches = filenameRegex.exec(contentDisposition);\n      const filename = matches && matches[1] ? matches[1].replace(/['\"]/g, '') : 'combined_content.txt';\n\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', filename);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      if (error.response) {\n        // r responded with a status other than 2xx\n        setStatus(`Error: ${error.response.data.error}`);\n        console.error('Download error:', error.response.data);\n      } else if (error.request) {\n        // Request was made but no response received\n        setStatus('No response from server');\n        console.error('Download error:', error.request);\n      } else {\n        // Something else happened\n        setStatus('Error downloading content');\n        console.error('Download error:', error.message);\n      }\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Sitemap Content Extractor</h1>\n      <input\n        type=\"text\"\n        value={sitemapUrl}\n        onChange={(e) => setSitemapUrl(e.target.value)}\n        placeholder=\"Enter sitemap URL\"\n      />\n      <button onClick={validateSitemap}>Validate URL</button>\n      <button onClick={extractContent} disabled={!isValidUrl || isExtracting}>\n        Start Extraction\n      </button>\n      <button onClick={downloadContent} disabled={!isValidUrl || isExtracting}>\n        Download All Content\n      </button>\n      <div id=\"status\">{status}</div>\n    </div>\n  );\n}\n\nexport default SitemapExtractor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}